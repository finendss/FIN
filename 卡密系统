-- ç´«è‰²ä¸»é¢˜å¡å¯†ç³»ç»ŸGUI + å³ä¾§å¼¹å‡ºé€šçŸ¥ç³»ç»Ÿ + ç²’å­ç‰¹æ•ˆ + é˜²æŠ“åŒ…
-- ä½œè€…ï¼šHLå›¢é˜Ÿ
-- ä¼˜åŒ–ç‰ˆæœ¬ - é€æ˜èƒŒæ™¯ + å®‰å…¨é˜²æŠ¤

-- ç³»ç»Ÿé…ç½®
local Config = {
    ScriptName = "é«˜çº§è„šæœ¬",
    Key = "111", -- æ­£ç¡®çš„å¡å¯†
    QQ = "123456789", -- å®˜æ–¹QQç¾¤
    NoKeyMessage = "å¡å¯†é”™è¯¯ï¼Œè¯·é‡æ–°è·å–", -- å¡å¯†é”™è¯¯æç¤º
    Version = "å¡å¯†ç³»ç»Ÿç‰ˆæœ¬2.1"
}

-- é˜²æŠ“åŒ…å®‰å…¨æ£€æµ‹
local function SecurityCheck()
    -- æ£€æŸ¥å¸¸è§çš„æŠ“åŒ…å·¥å…·å’ŒHook
    local suspiciousGlobals = {
        "hookfunction", "hookfunc", "detour_function", "crypt",
        "getrawmetatable", "setrawmetatable", "getnamecallmethod",
        "HttpSpy", "HttpLogger", "PacketSniffer", "NetworkLogger"
    }
    
    local suspiciousTables = {
        debug = {"getinfo", "getupvalue", "setupvalue", "getregistry"},
        hookfunction = true,
        getrawmetatable = true
    }
    
    -- æ£€æŸ¥å¯ç–‘å…¨å±€å˜é‡
    for _, globalName in ipairs(suspiciousGlobals) do
        if _G[globalName] ~= nil then
            return false, "æ£€æµ‹åˆ°å¯ç–‘ç¯å¢ƒ"
        end
    end
    
    -- æ£€æŸ¥debugè¡¨
    if debug then
        for _, funcName in ipairs(suspiciousTables.debug) do
            if debug[funcName] and type(debug[funcName]) == "function" then
                -- æ£€æŸ¥å‡½æ•°æ˜¯å¦è¢«hook
                local funcInfo = debug.getinfo(debug[funcName])
                if funcInfo and funcInfo.short_src ~= "[C]" then
                    return false, "æ£€æµ‹åˆ°è°ƒè¯•ç¯å¢ƒ"
                end
            end
        end
    end
    
    -- æ£€æŸ¥hookfunction
    if hookfunction and type(hookfunction) == "function" then
        local funcInfo = debug.getinfo(hookfunction)
        if funcInfo and funcInfo.short_src ~= "[C]" then
            return false, "æ£€æµ‹åˆ°Hookç¯å¢ƒ"
        end
    end
    
    -- æ£€æŸ¥getrawmetatable
    if getrawmetatable and type(getrawmetatable) == "function" then
        local funcInfo = debug.getinfo(getrawmetatable)
        if funcInfo and funcInfo.short_src ~= "[C]" then
            return false, "æ£€æµ‹åˆ°å…ƒè¡¨æ“ä½œç¯å¢ƒ"
        end
    end
    
    return true, "ç¯å¢ƒå®‰å…¨"
end

-- å®‰å…¨HTTPè¯·æ±‚å‡½æ•°
local function SecureHttpGet(url)
    local success, result = pcall(function()
        -- ç¯å¢ƒå®‰å…¨æ£€æŸ¥
        local isSafe, reason = SecurityCheck()
        if not isSafe then
            error("å®‰å…¨æ£€æµ‹å¤±è´¥: " .. reason)
        end
        
        -- ä½¿ç”¨æ¸¸æˆçš„åŸç”ŸHTTPæœåŠ¡
        local httpService = game:GetService("HttpService")
        
        -- æ·»åŠ éšæœºå‚æ•°é˜²æ­¢ç¼“å­˜
        local randomParam = "&t=" .. tostring(tick())
        local finalUrl = url .. randomParam
        
        -- æ‰§è¡Œè¯·æ±‚
        return httpService:GetAsync(finalUrl)
    end)
    
    if success then
        return result
    else
        warn("å®‰å…¨HTTPè¯·æ±‚å¤±è´¥: " .. tostring(result))
        return nil
    end
end

-- åè°ƒè¯•ä¿æŠ¤
local function AntiDebug()
    -- å®šæœŸæ£€æŸ¥è°ƒè¯•ç¯å¢ƒ
    coroutine.wrap(function()
        while true do
            wait(math.random(5, 15)) -- éšæœºé—´éš”æ£€æŸ¥
            
            local isSafe, reason = SecurityCheck()
            if not isSafe then
                -- æ£€æµ‹åˆ°è°ƒè¯•ç¯å¢ƒï¼Œé‡‡å–ä¿æŠ¤æªæ–½
                game.Players.LocalPlayer:Kick("å®‰å…¨æ£€æµ‹å¤±è´¥: " .. reason)
                break
            end
        end
    end)()
end

-- å¯åŠ¨åè°ƒè¯•ä¿æŠ¤
AntiDebug()

-- åˆ›å»ºGUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KeySystem_" .. tostring(math.random(10000, 99999))
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- åˆ›å»ºé€šçŸ¥GUI
local NotificationsGui = Instance.new("ScreenGui")
NotificationsGui.Name = "Notifications_" .. tostring(math.random(10000, 99999))
NotificationsGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
NotificationsGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- åˆ›å»ºç²’å­èƒŒæ™¯GUI
local ParticlesGui = Instance.new("ScreenGui")
ParticlesGui.Name = "ParticlesBackground_" .. tostring(math.random(10000, 99999))
ParticlesGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ParticlesGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ç²’å­ç³»ç»Ÿ
local function createParticleSystem()
    local particles = {}
    local particleColors = {
        Color3.fromRGB(140, 90, 220),
        Color3.fromRGB(120, 70, 200),
        Color3.fromRGB(100, 50, 180),
        Color3.fromRGB(160, 110, 240),
        Color3.fromRGB(180, 130, 255),
        Color3.fromRGB(90, 40, 160)
    }
    
    for i = 1, 30 do -- å¢åŠ åˆ°30ä¸ªç²’å­
        local particle = Instance.new("Frame")
        particle.Name = "Particle_" .. tostring(i)
        particle.Parent = ParticlesGui
        particle.BackgroundColor3 = particleColors[math.random(1, #particleColors)]
        particle.BorderSizePixel = 0
        particle.Size = UDim2.new(0, math.random(3, 10), 0, math.random(3, 10))
        particle.Position = UDim2.new(0, math.random(-100, 2000), 0, math.random(-100, 1200))
        particle.ZIndex = 0
        particle.BackgroundTransparency = 0.7 -- å¢åŠ é€æ˜åº¦
        
        -- åœ†è§’ç²’å­
        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(1, 0)
        corner.Parent = particle
        
        -- ç²’å­åŠ¨ç”»
        local speedX = math.random(-40, 40) / 10
        local speedY = math.random(-40, 40) / 10
        
        coroutine.wrap(function()
            while particle and particle.Parent do
                local currentPos = particle.Position
                local newX = currentPos.X.Offset + speedX
                local newY = currentPos.Y.Offset + speedY
                
                -- è¾¹ç•Œæ£€æµ‹
                if newX < -100 then newX = 2000
                elseif newX > 2000 then newX = -100 end
                
                if newY < -100 then newY = 1200
                elseif newY > 1200 then newY = -100 end
                
                particle.Position = UDim2.new(0, newX, 0, newY)
                wait(0.02) -- æ›´å¿«çš„æ›´æ–°é¢‘ç‡
            end
        end)()
        
        table.insert(particles, particle)
    end
end

-- å¯åŠ¨ç²’å­ç³»ç»Ÿ
createParticleSystem()

-- åˆ›å»ºå®Œå…¨é€æ˜çš„èƒŒæ™¯
local BlurBackground = Instance.new("Frame")
BlurBackground.Name = "BlurBackground"
BlurBackground.Parent = ScreenGui
BlurBackground.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
BlurBackground.BackgroundTransparency = 1 -- å®Œå…¨é€æ˜
BlurBackground.Size = UDim2.new(1, 0, 1, 0)
BlurBackground.ZIndex = 0

local BackgroundCorner = Instance.new("UICorner")
BackgroundCorner.CornerRadius = UDim.new(0, 0)
BackgroundCorner.Parent = BlurBackground

-- ä¸»å®¹å™¨ - æ›´åŠ é€æ˜
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 10, 25) -- æ›´æ·±çš„åº•è‰²
MainFrame.BackgroundTransparency = 0.3 -- å¢åŠ é€æ˜åº¦
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 400, 0, 350)
MainFrame.ZIndex = 2

-- èƒŒæ™¯å…‰æ™•æ•ˆæœ - æ›´åŠ é€æ˜
local GlowEffect = Instance.new("ImageLabel")
GlowEffect.Name = "GlowEffect"
GlowEffect.Parent = MainFrame
GlowEffect.BackgroundTransparency = 1
GlowEffect.Size = UDim2.new(1, 40, 1, 40)
GlowEffect.Position = UDim2.new(0, -20, 0, -20)
GlowEffect.Image = "rbxassetid://8992231221"
GlowEffect.ImageColor3 = Color3.fromRGB(60, 30, 120)
GlowEffect.ImageTransparency = 0.8 -- å¢åŠ å…‰æ™•é€æ˜åº¦
GlowEffect.ScaleType = Enum.ScaleType.Slice
GlowEffect.SliceCenter = Rect.new(100, 100, 100, 100)
GlowEffect.ZIndex = 1

-- åœ†è§’
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 20)
UICorner.Parent = MainFrame

-- è¾¹æ¡†æ•ˆæœ - æ›´åŠ é€æ˜
local UIStroke = Instance.new("UIStroke")
UIStroke.Parent = MainFrame
UIStroke.Color = Color3.fromRGB(100, 65, 165)
UIStroke.Thickness = 2
UIStroke.Transparency = 0.5 -- å¢åŠ è¾¹æ¡†é€æ˜åº¦
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- é¡¶éƒ¨æ ‡é¢˜æ  - æ›´åŠ é€æ˜
local TopBar = Instance.new("Frame")
TopBar.Name = "TopBar"
TopBar.Parent = MainFrame
TopBar.BackgroundColor3 = Color3.fromRGB(30, 20, 50)
TopBar.BackgroundTransparency = 0.3 -- å¢åŠ é€æ˜åº¦
TopBar.BorderSizePixel = 0
TopBar.Size = UDim2.new(1, 0, 0, 50)

local UICorner_2 = Instance.new("UICorner")
UICorner_2.CornerRadius = UDim.new(0, 20, 0, 0)
UICorner_2.Parent = TopBar

-- é¡¶éƒ¨è£…é¥°çº¿
local TopAccent = Instance.new("Frame")
TopAccent.Name = "TopAccent"
TopAccent.Parent = TopBar
TopAccent.BackgroundColor3 = Color3.fromRGB(140, 90, 220)
TopAccent.BorderSizePixel = 0
TopAccent.Position = UDim2.new(0, 0, 1, -2)
TopAccent.Size = UDim2.new(1, 0, 0, 2)

-- æ¸å˜æ•ˆæœ
local UIGradient = Instance.new("UIGradient")
UIGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(140, 90, 220)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(180, 130, 255))
})
UIGradient.Rotation = 45
UIGradient.Parent = TopAccent

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Parent = TopBar
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 20, 0, 0)
Title.Size = UDim2.new(1, -40, 0.6, 0)
Title.Font = Enum.Font.GothamBold
Title.Text = Config.ScriptName .. " - å¡å¯†éªŒè¯"
Title.TextColor3 = Color3.fromRGB(240, 230, 255)
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left

local Subtitle = Instance.new("TextLabel")
Subtitle.Name = "Subtitle"
Subtitle.Parent = TopBar
Subtitle.BackgroundTransparency = 1
Subtitle.Position = UDim2.new(0, 20, 0.6, 0)
Subtitle.Size = UDim2.new(1, -40, 0.4, 0)
Subtitle.Font = Enum.Font.Gotham
Subtitle.Text = "è¯·è¾“å…¥æ‚¨çš„å¡å¯†ä»¥ç»§ç»­ä½¿ç”¨è„šæœ¬"
Subtitle.TextColor3 = Color3.fromRGB(180, 160, 220)
Subtitle.TextSize = 12
Subtitle.TextXAlignment = Enum.TextXAlignment.Left

-- å†…å®¹åŒºåŸŸ
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundTransparency = 1
ContentFrame.Position = UDim2.new(0, 0, 0, 55)
ContentFrame.Size = UDim2.new(1, 0, 1, -55)

-- å¡å¯†è¾“å…¥åŒºåŸŸ
local InputSection = Instance.new("Frame")
InputSection.Name = "InputSection"
InputSection.Parent = ContentFrame
InputSection.BackgroundTransparency = 1
InputSection.Position = UDim2.new(0, 25, 0, 20)
InputSection.Size = UDim2.new(1, -50, 0, 110)

local KeyLabel = Instance.new("TextLabel")
KeyLabel.Name = "KeyLabel"
KeyLabel.Parent = InputSection
KeyLabel.BackgroundTransparency = 1
KeyLabel.Size = UDim2.new(1, 0, 0, 25)
KeyLabel.Font = Enum.Font.Gotham
KeyLabel.Text = "è¯·è¾“å…¥å¡å¯†"
KeyLabel.TextColor3 = Color3.fromRGB(200, 190, 230)
KeyLabel.TextSize = 14
KeyLabel.TextXAlignment = Enum.TextXAlignment.Left

local KeyInput = Instance.new("TextBox")
KeyInput.Name = "KeyInput"
KeyInput.Parent = InputSection
KeyInput.BackgroundColor3 = Color3.fromRGB(25, 20, 35)
KeyInput.BackgroundTransparency = 0.3 -- å¢åŠ é€æ˜åº¦
KeyInput.BorderSizePixel = 0
KeyInput.Position = UDim2.new(0, 0, 0, 30)
KeyInput.Size = UDim2.new(1, 0, 0, 45)
KeyInput.Font = Enum.Font.Gotham
KeyInput.PlaceholderColor3 = Color3.fromRGB(120, 100, 160)
KeyInput.PlaceholderText = "åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„å¡å¯†"
KeyInput.Text = ""
KeyInput.TextColor3 = Color3.fromRGB(240, 230, 255)
KeyInput.TextSize = 16

local UICorner_3 = Instance.new("UICorner")
UICorner_3.CornerRadius = UDim.new(0, 12)
UICorner_3.Parent = KeyInput

-- è¾“å…¥æ¡†è¾¹æ¡†
local InputStroke = Instance.new("UIStroke")
InputStroke.Parent = KeyInput
InputStroke.Color = Color3.fromRGB(80, 55, 130)
InputStroke.Thickness = 1.5
InputStroke.Transparency = 0.4 -- å¢åŠ è¾¹æ¡†é€æ˜åº¦

local InputHint = Instance.new("TextLabel")
InputHint.Name = "InputHint"
InputHint.Parent = InputSection
InputHint.BackgroundTransparency = 1
InputHint.Position = UDim2.new(0, 0, 0, 80)
InputHint.Size = UDim2.new(1, 0, 0, 20)
InputHint.Font = Enum.Font.Gotham
InputHint.Text = "è¯·ç¡®ä¿å‡†ç¡®è¾“å…¥å¡å¯†ï¼Œé¿å…ç©ºæ ¼"
InputHint.TextColor3 = Color3.fromRGB(130, 110, 170)
InputHint.TextSize = 11
InputHint.TextXAlignment = Enum.TextXAlignment.Left

-- æŒ‰é’®åŒºåŸŸ
local ButtonSection = Instance.new("Frame")
ButtonSection.Name = "ButtonSection"
ButtonSection.Parent = ContentFrame
ButtonSection.BackgroundTransparency = 1
ButtonSection.Position = UDim2.new(0, 25, 0, 150)
ButtonSection.Size = UDim2.new(1, -50, 0, 50)

local VerifyButton = Instance.new("TextButton")
VerifyButton.Name = "VerifyButton"
VerifyButton.Parent = ButtonSection
VerifyButton.BackgroundColor3 = Color3.fromRGB(110, 70, 190)
VerifyButton.BackgroundTransparency = 0.2 -- å¢åŠ é€æ˜åº¦
VerifyButton.BorderSizePixel = 0
VerifyButton.Position = UDim2.new(0, 0, 0, 0)
VerifyButton.Size = UDim2.new(0.48, 0, 1, 0)
VerifyButton.Font = Enum.Font.GothamBold
VerifyButton.Text = "éªŒè¯å¡å¯†"
VerifyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
VerifyButton.TextSize = 16

local UICorner_4 = Instance.new("UICorner")
UICorner_4.CornerRadius = UDim.new(0, 12)
UICorner_4.Parent = VerifyButton

-- éªŒè¯æŒ‰é’®æ¸å˜æ•ˆæœ
local VerifyGradient = Instance.new("UIGradient")
VerifyGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(120, 80, 200)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(100, 60, 180))
})
VerifyGradient.Parent = VerifyButton

local ExitButton = Instance.new("TextButton")
ExitButton.Name = "ExitButton"
ExitButton.Parent = ButtonSection
ExitButton.BackgroundColor3 = Color3.fromRGB(40, 30, 60)
ExitButton.BackgroundTransparency = 0.3 -- å¢åŠ é€æ˜åº¦
ExitButton.BorderSizePixel = 0
ExitButton.Position = UDim2.new(0.52, 0, 0, 0)
ExitButton.Size = UDim2.new(0.48, 0, 1, 0)
ExitButton.Font = Enum.Font.Gotham
ExitButton.Text = "é€€å‡ºUI"
ExitButton.TextColor3 = Color3.fromRGB(200, 190, 230)
ExitButton.TextSize = 15

local UICorner_5 = Instance.new("UICorner")
UICorner_5.CornerRadius = UDim.new(0, 12)
UICorner_5.Parent = ExitButton

-- åº•éƒ¨åŒºåŸŸ
local BottomSection = Instance.new("Frame")
BottomSection.Name = "BottomSection"
BottomSection.Parent = ContentFrame
BottomSection.BackgroundTransparency = 1
BottomSection.Position = UDim2.new(0, 25, 0, 220)
BottomSection.Size = UDim2.new(1, -50, 0, 70)

local CopyGroupButton = Instance.new("TextButton")
CopyGroupButton.Name = "CopyGroupButton"
CopyGroupButton.Parent = BottomSection
CopyGroupButton.BackgroundColor3 = Color3.fromRGB(35, 25, 50)
CopyGroupButton.BackgroundTransparency = 0.3 -- å¢åŠ é€æ˜åº¦
CopyGroupButton.BorderSizePixel = 0
CopyGroupButton.Size = UDim2.new(1, 0, 0, 40)
CopyGroupButton.Font = Enum.Font.Gotham
CopyGroupButton.Text = "å¤åˆ¶å®˜æ–¹ç¾¤å·"
CopyGroupButton.TextColor3 = Color3.fromRGB(180, 160, 220)
CopyGroupButton.TextSize = 14

local UICorner_6 = Instance.new("UICorner")
UICorner_6.CornerRadius = UDim.new(0, 10)
UICorner_6.Parent = CopyGroupButton

-- æŒ‰é’®å›¾æ ‡
local CopyIcon = Instance.new("TextLabel")
CopyIcon.Name = "CopyIcon"
CopyIcon.Parent = CopyGroupButton
CopyIcon.BackgroundTransparency = 1
CopyIcon.Position = UDim2.new(0, 15, 0, 0)
CopyIcon.Size = UDim2.new(0, 40, 1, 0)
CopyIcon.Font = Enum.Font.GothamBold
CopyIcon.Text = "ğŸ“‹"
CopyIcon.TextColor3 = Color3.fromRGB(160, 130, 210)
CopyIcon.TextSize = 16
CopyIcon.TextXAlignment = Enum.TextXAlignment.Left

local VersionLabel = Instance.new("TextLabel")
VersionLabel.Name = "VersionLabel"
VersionLabel.Parent = BottomSection
VersionLabel.BackgroundTransparency = 1
VersionLabel.Position = UDim2.new(0, 0, 0, 45)
VersionLabel.Size = UDim2.new(1, 0, 0, 20)
VersionLabel.Font = Enum.Font.Gotham
VersionLabel.Text = Config.Version
VersionLabel.TextColor3 = Color3.fromRGB(110, 90, 150)
VersionLabel.TextSize = 11
VersionLabel.TextXAlignment = Enum.TextXAlignment.Center

-- æŒ‰é’®äº¤äº’æ•ˆæœ
local function createButtonEffect(button)
    local originalColor = button.BackgroundColor3
    local originalSize = button.Size
    
    button.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {BackgroundTransparency = 0.1}
        ):Play()
    end)
    
    button.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {BackgroundTransparency = 0.3}
        ):Play()
    end)
    
    -- ç‚¹å‡»æ•ˆæœ
    button.MouseButton1Down:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Size = originalSize - UDim2.new(0, 4, 0, 4)}
        ):Play()
    end)
    
    button.MouseButton1Up:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Size = originalSize}
        ):Play()
    end)
end

-- åº”ç”¨æŒ‰é’®æ•ˆæœ
createButtonEffect(VerifyButton)
createButtonEffect(ExitButton)
createButtonEffect(CopyGroupButton)

-- è‡ªå®šä¹‰é€šçŸ¥ç³»ç»Ÿ - å³ä¾§å¼¹å‡ºç´§å‡‘ç‰ˆ
local notificationQueue = {}
local activeNotifications = 0
local maxNotifications = 3

local function showNotification(title, message, notificationType, duration)
    duration = duration or 3
    
    -- å¦‚æœæœ‰å¤ªå¤šé€šçŸ¥ï¼Œç­‰å¾…
    while activeNotifications >= maxNotifications do
        wait(0.5)
    end
    
    activeNotifications = activeNotifications + 1
    
    -- è®¡ç®—é€šçŸ¥ä½ç½®ï¼ˆä»å³ä¾§å¼¹å‡ºï¼‰
    local verticalOffset = (activeNotifications - 1) * 80
    
    -- åˆ›å»ºé€šçŸ¥æ¡†æ¶
    local NotificationFrame = Instance.new("Frame")
    NotificationFrame.Name = "Notification"
    NotificationFrame.Parent = NotificationsGui
    NotificationFrame.AnchorPoint = Vector2.new(1, 0) -- å³ä¾§é”šç‚¹
    NotificationFrame.BackgroundColor3 = Color3.fromRGB(20, 15, 35)
    NotificationFrame.BackgroundTransparency = 0.2 -- å¢åŠ é€æ˜åº¦
    NotificationFrame.BorderSizePixel = 0
    NotificationFrame.Position = UDim2.new(1, 10, 0, 20 + verticalOffset)
    NotificationFrame.Size = UDim2.new(0, 0, 0, 70)
    NotificationFrame.ZIndex = 10
    
    -- é€šçŸ¥åœ†è§’
    local NotificationCorner = Instance.new("UICorner")
    NotificationCorner.CornerRadius = UDim.new(0, 12)
    NotificationCorner.Parent = NotificationFrame
    
    -- é€šçŸ¥è¾¹æ¡†
    local NotificationStroke = Instance.new("UIStroke")
    NotificationStroke.Parent = NotificationFrame
    NotificationStroke.Color = Color3.fromRGB(90, 60, 150)
    NotificationStroke.Thickness = 1.5
    NotificationStroke.Transparency = 0.4 -- å¢åŠ è¾¹æ¡†é€æ˜åº¦
    
    -- é€šçŸ¥å·¦ä¾§è£…é¥°æ¡
    local NotificationAccent = Instance.new("Frame")
    NotificationAccent.Parent = NotificationFrame
    NotificationAccent.BackgroundColor3 = notificationType == "success" and Color3.fromRGB(100, 200, 120) or Color3.fromRGB(220, 100, 100)
    NotificationAccent.BorderSizePixel = 0
    NotificationAccent.Position = UDim2.new(0, 0, 0, 0)
    NotificationAccent.Size = UDim2.new(0, 4, 1, 0)
    
    local AccentCorner = Instance.new("UICorner")
    AccentCorner.CornerRadius = UDim.new(0, 12, 0, 12)
    AccentCorner.Parent = NotificationAccent
    
    -- é€šçŸ¥å›¾æ ‡
    local NotificationIcon = Instance.new("TextLabel")
    NotificationIcon.Parent = NotificationFrame
    NotificationIcon.BackgroundTransparency = 1
    NotificationIcon.Position = UDim2.new(0, 12, 0, 12)
    NotificationIcon.Size = UDim2.new(0, 30, 0, 30)
    NotificationIcon.Font = Enum.Font.GothamBold
    NotificationIcon.Text = notificationType == "success" and "âœ“" or "âœ—"
    NotificationIcon.TextColor3 = notificationType == "success" and Color3.fromRGB(100, 200, 120) or Color3.fromRGB(220, 100, 100)
    NotificationIcon.TextSize = 18
    
    -- é€šçŸ¥æ ‡é¢˜
    local NotificationTitle = Instance.new("TextLabel")
    NotificationTitle.Parent = NotificationFrame
    NotificationTitle.BackgroundTransparency = 1
    NotificationTitle.Position = UDim2.new(0, 50, 0, 10)
    NotificationTitle.Size = UDim2.new(1, -60, 0, 20)
    NotificationTitle.Font = Enum.Font.GothamBold
    NotificationTitle.Text = title
    NotificationTitle.TextColor3 = Color3.fromRGB(240, 230, 255)
    NotificationTitle.TextSize = 15
    NotificationTitle.TextXAlignment = Enum.TextXAlignment.Left
    
    -- é€šçŸ¥æ¶ˆæ¯
    local NotificationMessage = Instance.new("TextLabel")
    NotificationMessage.Parent = NotificationFrame
    NotificationMessage.BackgroundTransparency = 1
    NotificationMessage.Position = UDim2.new(0, 50, 0, 30)
    NotificationMessage.Size = UDim2.new(1, -60, 0, 30)
    NotificationMessage.Font = Enum.Font.Gotham
    NotificationMessage.Text = message
    NotificationMessage.TextColor3 = Color3.fromRGB(200, 190, 230)
    NotificationMessage.TextSize = 12
    NotificationMessage.TextXAlignment = Enum.TextXAlignment.Left
    NotificationMessage.TextYAlignment = Enum.TextYAlignment.Top
    NotificationMessage.TextWrapped = true
    
    -- è¿›åº¦æ¡
    local ProgressBar = Instance.new("Frame")
    ProgressBar.Parent = NotificationFrame
    ProgressBar.BackgroundColor3 = notificationType == "success" and Color3.fromRGB(80, 160, 100) or Color3.fromRGB(180, 80, 80)
    ProgressBar.BorderSizePixel = 0
    ProgressBar.Position = UDim2.new(0, 0, 1, -2)
    ProgressBar.Size = UDim2.new(1, 0, 0, 2)
    
    local ProgressCorner = Instance.new("UICorner")
    ProgressCorner.CornerRadius = UDim.new(0, 0, 0, 12)
    ProgressCorner.Parent = ProgressBar
    
    -- åŠ¨ç”»æ•ˆæœ
    local TweenService = game:GetService("TweenService")
    
    -- ä»å³ä¾§æ»‘å…¥åŠ¨ç”»
    local slideInTween = TweenService:Create(
        NotificationFrame,
        TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
        {Size = UDim2.new(0, 280, 0, 70), Position = UDim2.new(1, -15, 0, 20 + verticalOffset)}
    )
    slideInTween:Play()
    
    -- è¿›åº¦æ¡åŠ¨ç”»
    local progressTween = TweenService:Create(
        ProgressBar,
        TweenInfo.new(duration, Enum.EasingStyle.Linear),
        {Size = UDim2.new(0, 0, 0, 2)}
    )
    
    -- ç­‰å¾…æ»‘å…¥å®Œæˆ
    wait(0.4)
    
    -- å¼€å§‹è¿›åº¦æ¡
    progressTween:Play()
    
    -- ç­‰å¾…æŒç»­æ—¶é—´
    wait(duration)
    
    -- æ»‘å‡ºåŠ¨ç”»
    local slideOutTween = TweenService:Create(
        NotificationFrame,
        TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In),
        {Size = UDim2.new(0, 0, 0, 70), Position = UDim2.new(1, 10, 0, 20 + verticalOffset)}
    )
    slideOutTween:Play()
    
    -- ç­‰å¾…æ»‘å‡ºå®Œæˆç„¶åé”€æ¯
    wait(0.3)
    NotificationFrame:Destroy()
    activeNotifications = activeNotifications - 1
end

-- æŒ‰é’®åŠŸèƒ½
VerifyButton.MouseButton1Click:Connect(function()
    -- ç¯å¢ƒå®‰å…¨æ£€æŸ¥
    local isSafe, reason = SecurityCheck()
    if not isSafe then
        showNotification("å®‰å…¨è­¦å‘Š", "æ£€æµ‹åˆ°ä¸å®‰å…¨ç¯å¢ƒï¼Œè„šæœ¬å·²åœæ­¢", "error", 3)
        return
    end
    
    if KeyInput.Text == Config.Key then
        -- æˆåŠŸåŠ¨ç”»
        local tween = game:GetService("TweenService"):Create(
            MainFrame,
            TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In),
            {Size = UDim2.new(0, 0, 0, 0)}
        )
        tween:Play()
        
        -- æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
        showNotification("éªŒè¯æˆåŠŸ", Config.ScriptName .. "è„šæœ¬å·²æ¿€æ´»", "success", 2)
        
        wait(0.3)
        ScreenGui:Destroy()
        ParticlesGui:Destroy()
        
        -- è„šæœ¬ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œï¼ˆä½¿ç”¨å®‰å…¨HTTPè¯·æ±‚ï¼‰
        -- local scriptContent = SecureHttpGet("https://pandadevelopment.net/virtual/file/b4386787b6e41afc")
        -- if scriptContent then
        --     loadstring(scriptContent)()
        -- end
    else
        -- é”™è¯¯åŠ¨ç”»
        local originalPosition = KeyInput.Position
        local tween1 = game:GetService("TweenService"):Create(
            KeyInput,
            TweenInfo.new(0.1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 0, true),
            {Position = originalPosition + UDim2.new(0, 5, 0, 0)}
        )
        tween1:Play()
        
        KeyInput.BackgroundColor3 = Color3.fromRGB(70, 30, 50)
        KeyInput.UIStroke.Color = Color3.fromRGB(180, 60, 100)
        
        -- æ˜¾ç¤ºå¤±è´¥é€šçŸ¥
        showNotification("éªŒè¯å¤±è´¥", "æ­£åœ¨å¤åˆ¶è„šæœ¬å®˜æ–¹ç¾¤èŠ", "error", 2)
        
        wait(1)
        game.Players.LocalPlayer:Kick(Config.NoKeyMessage)
    end
end)

ExitButton.MouseButton1Click:Connect(function()
    local tween = game:GetService("TweenService"):Create(
        MainFrame,
        TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In),
        {Size = UDim2.new(0, 0, 0, 0)}
    )
    tween:Play()
    
    wait(0.3)
    ScreenGui:Destroy()
    ParticlesGui:Destroy()
end)

CopyGroupButton.MouseButton1Click:Connect(function()
    -- ç¯å¢ƒå®‰å…¨æ£€æŸ¥
    local isSafe, reason = SecurityCheck()
    if not isSafe then
        showNotification("å®‰å…¨è­¦å‘Š", "æ£€æµ‹åˆ°ä¸å®‰å…¨ç¯å¢ƒï¼Œæ“ä½œå·²å–æ¶ˆ", "error", 3)
        return
    end
    
    if setclipboard then
        setclipboard(Config.QQ)
    end
    
    -- å¤åˆ¶æˆåŠŸåé¦ˆ
    local originalText = CopyGroupButton.Text
    CopyGroupButton.Text = "å·²å¤åˆ¶!"
    
    -- æ˜¾ç¤ºå¤åˆ¶æˆåŠŸé€šçŸ¥
    showNotification("å·²å¤åˆ¶", "å®˜æ–¹ç¾¤å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", "success", 3)
    
    wait(1.5)
    CopyGroupButton.Text = originalText
end)

-- è¾“å…¥æ¡†ç„¦ç‚¹æ•ˆæœ
KeyInput.Focused:Connect(function()
    game:GetService("TweenService"):Create(
        KeyInput,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundTransparency = 0.1}
    ):Play()
    KeyInput.UIStroke.Color = Color3.fromRGB(140, 90, 220)
end)

KeyInput.FocusLost:Connect(function()
    game:GetService("TweenService"):Create(
        KeyInput,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundTransparency = 0.3}
    ):Play()
    KeyInput.UIStroke.Color = Color3.fromRGB(80, 55, 130)
end)

-- æ·»åŠ æ·¡å…¥åŠ¨ç”»
local TweenService = game:GetService("TweenService")
MainFrame.BackgroundTransparency = 1
MainFrame.Size = UDim2.new(0, 0, 0, 0)
BlurBackground.BackgroundTransparency = 1

wait(0.1)

-- èƒŒæ™¯æ·¡å…¥ï¼ˆä¿æŒå®Œå…¨é€æ˜ï¼‰
local bgFadeIn = TweenService:Create(
    BlurBackground,
    TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    {BackgroundTransparency = 1} -- ä¿æŒå®Œå…¨é€æ˜
)
bgFadeIn:Play()

-- ä¸»æ¡†æ¶åŠ¨ç”»
local mainFadeIn = TweenService:Create(
    MainFrame,
    TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
    {BackgroundTransparency = 0.3, Size = UDim2.new(0, 400, 0, 350)} -- ä½¿ç”¨æ–°çš„é€æ˜åº¦å€¼
)
mainFadeIn:Play()
